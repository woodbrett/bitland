'''
Created on Jul 20, 2021

@author: brett_wood
'''
from node.networking.node_update_functions import queueNewTransactionFromPeer
from wallet.transaction_creation import createSimpleTransactionTransfer
from binascii import hexlify, unhexlify
from node.blockchain.transaction_operations import validateMempoolTransaction
import socket
from node.blockchain.transaction_serialization import deserialize_transaction

def broadcastTransaction(transaction, use_threading=True):
    
    queueNewTransactionFromPeer(transaction, use_threading)

    return True


if __name__ == '__main__':
    
    transaction_hex = '0002010186a376a1e641a30099a01abdf6f1f18dacd74e08b32c6e95df3c46373a8c07fa01402fb61fa344ab20501001ad668db982434ac5d2b9fecab0906b23dd8c5cf821fc6b297950a6ccc0386d92001f02d59c850e51a20dab3990e316d644021808c8c001010100dd4d554c5449504f4c59474f4e2828282d35392e303632352038342e363538352c2d35392e303632352038342e34313839322c2d36302e34363837352038342e34313839322c2d36302e34363837352038342e363538352c2d35392e303632352038342e3635383529292c28282d35382e3637373238322038342e363538352c2d35392e303632352038342e363538352c2d35392e303632352038342e39303934322c2d35392e303632352038352e30333935362c2d35382e3631353438392038352e30333935362c2d35382e3637373238322038342e3635383529292940c7fd895b5a7514a436d689a0b41606671fb02e4b85a5ae25d41d1a786b3792385391b740ec96a71bffc14f0c12ffdb88d37c65f04a704f8047918c8dc2bb59d90000000000000000000000000000000000'    
    x = broadcastTransaction(transaction_hex, use_threading=False)


    #blocking claim: 000201014f651474a9f41af5b7d480afdd8ec65730eaaf1872009be993b829a7d69e6bd40040ecca6f5a49e6eacec2c6ce9993c7887b83bd8567a4fed526037d7f71d702be52e33e338e964e86efb617cf4077505a312a59180f9e1dba0e7ec57655efcb40bf0101010057504f4c59474f4e28282d32322e352038382e39373230322c2d32322e352038382e38323239382c2d33332e37352038382e38323239382c2d33332e37352038382e39373230322c2d32322e352038382e393732303229294097477ec374823486780b35e97700a7731d903c800cbb1e2a6da119c411ea6be478dab9e727c78a50318f49b457691c7f8e09312159168fc0c50f354edeb1d2fe0000000000000000000000000000000000
    #attempt to spend claim: 000201011dcd19cde1eaf19ef60025047526bfabe1d0db09be362379a2ebe8ced5de6bd10040cd4e4b405fe63f3ec9fcaf0a25b43b2b9cb4552697efa45d29546ba7333646a5791b3b9099a0f2c64e871e1a8d4ba57411a88f65b676fc9355995151e6ec13050101010033504f4c59474f4e2828302039302c302038392e37343637342c2d39302038392e37343637342c2d39302039302c30203930292940d11d60d86a26c0d8adab0f60dae9917dc5a864ffb4bcf2ac91409cad0a5a03eb1e4f35541130b9b2e2e058e0e8c97a4040b83757f2f6009695926a55912a470c0000000000000000000000000000000000






